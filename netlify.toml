[build]
  command = "npm run build:client"
  functions = "netlify/functions"
  publish = "dist/spa"


[functions]
  external_node_modules = ["express"]
  node_bundler = "esbuild"
  
[[redirects]]
  force = true
  from = "/api/*"
  status = 200
  to = "/.netlify/functions/api/:splat"

# [[redirects]]
#   from = "/chat_api/*"
#   to = "http://216.244.94.213:8080/chat_api/:splat"
#   status = 200
#   force = true

[[redirects]]
  from = "/agents/*"
  to = "https://orinai-dashboard-proxy-1056582462205.asia-southeast1.run.app/ai_chat/agents/:splat"
  status = 200
  force = true

[[redirects]]
  from = "/whatsapp/number/*"
  to = "https://orinai-dashboard-proxy-1056582462205.asia-southeast1.run.app/ai_chat/whatsapp/number/:splat"
  status = 200
  force = true

[[redirects]]
  from = "/tools/*"
  to = "https://orinai-dashboard-proxy-1056582462205.asia-southeast1.run.app/ai_chat/tools/:splat"
  status = 200
  force = true

[[redirects]]
  from = "/whatsapp/contacts/*"
  to = "https://orinai-dashboard-proxy-1056582462205.asia-southeast1.run.app/wa_report/whatsapp/contacts/:splat"
  status = 200
  force = true

[[redirects]]
  from = "/whatsapp/chat_history/*"
  to = "https://orinai-dashboard-proxy-1056582462205.asia-southeast1.run.app/wa_report/whatsapp/chat_history/:splat"
  status = 200
  force = true

[[redirects]]
  from = "/whatsapp/profile/*"
  to = "https://orinai-dashboard-proxy-1056582462205.asia-southeast1.run.app/wa_report/whatsapp/profile/:splat"
  status = 200
  force = true
